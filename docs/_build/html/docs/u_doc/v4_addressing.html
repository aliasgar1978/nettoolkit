<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3.5. IPv4 addressing &mdash; nettoolkit 0.0.12 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="3.6. IPv6 addressing" href="v6_addressing.html" />
    <link rel="prev" title="3.4. Juniper Configuration - 3" href="juniper_remove_remarks.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> nettoolkit
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../_preface.html">1. Preface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_install.html">2. Insall Instructions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../_user_doc.html">3. User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="overview.html">3.1. Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="juniper_to_set.html">3.2. Juniper - to-Set</a></li>
<li class="toctree-l2"><a class="reference internal" href="juniper_to_hierachy.html">3.3. Juniper - to-hierachy</a></li>
<li class="toctree-l2"><a class="reference internal" href="juniper_remove_remarks.html">3.4. Juniper - Remove Remarks</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">3.5. IPv4 Addressing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">3.5.1. Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-to-create-an-ipv4-object">3.5.2. How to create an IPv4 Object:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#properties-of-ipv4-object">3.5.3. Properties of IPv4 object:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-an-ip">3.5.4. Get an IP:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-ip-with-mask-in-various-formats">3.5.5. Get ip with mask in various formats:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-ipv4-object-slices">3.5.6. Get IPv4 Object slices:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ipv4-object-addition">3.5.7. IPv4 Object addition:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="v6_addressing.html">3.6. IPv6 Addressing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../_tech_doc.html">4. API Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">nettoolkit</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../_user_doc.html"><span class="section-number">3. </span>User documentation!</a> &raquo;</li>
      <li><span class="section-number">3.5. </span>IPv4 addressing</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/docs/u_doc/v4_addressing.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="ipv4-addressing">
<h1><span class="section-number">3.5. </span>IPv4 addressing<a class="headerlink" href="#ipv4-addressing" title="Permalink to this headline"></a></h1>
<div class="section" id="overview">
<h2><span class="section-number">3.5.1. </span>Overview<a class="headerlink" href="#overview" title="Permalink to this headline"></a></h2>
<div class="admonition-overview admonition">
<p class="admonition-title">Overview</p>
<p>It is used to do various ip addressing operations on IPv4 address.</p>
<dl class="simple">
<dt>Activities that can be done are:</dt><dd><ul class="simple">
<li><p>get various properties of subnet (ie: mask, inverse_mask, binary_mask)</p></li>
<li><p>get the desired ip from provided subnet (ie: NetworkIP, BroadcastIP, n-th IP)</p></li>
<li><p>get the ip/subnet in various format (ie: “address/mask”, “address subnet_mask”, “address inverse_mask”)</p></li>
<li><p>get the range of ip addresses from provided subnet</p></li>
<li><p>break the subnet in to smaller pieces</p></li>
<li><p>club two adjacent subnets and get summary out of it (if summarizable).</p></li>
</ul>
</dd>
</dl>
</div>
</div>
<div class="section" id="how-to-create-an-ipv4-object">
<h2><span class="section-number">3.5.2. </span>How to create an IPv4 Object:<a class="headerlink" href="#how-to-create-an-ipv4-object" title="Permalink to this headline"></a></h2>
<p>See below sample on how to create an IPv4 Object, This is mandatory step in order to work on the respective properties or methods.  It will be used in following steps.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nettoolkit</span> <span class="kn">import</span> <span class="n">IPv4</span>         <span class="c1"># import IPv4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subnet</span> <span class="o">=</span> <span class="s2">&quot;10.10.10.10/23&quot;</span>           <span class="c1"># example ip string</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">IPv4</span><span class="p">(</span><span class="n">subnet</span><span class="p">)</span>                    <span class="c1"># created IPv4 object with provided prefix.</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="properties-of-ipv4-object">
<h2><span class="section-number">3.5.3. </span>Properties of IPv4 object:<a class="headerlink" href="#properties-of-ipv4-object" title="Permalink to this headline"></a></h2>
<p>Available properties:</p>
<blockquote>
<div><ul class="simple">
<li><p>version</p></li>
<li><p>bit_length</p></li>
<li><p>mask</p></li>
<li><p>decmask or decimalMask</p></li>
<li><p>binmask</p></li>
<li><p>invmask</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">version</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">bit_length</span>
<span class="go">32</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">mask</span>      <span class="c1"># decimal mask</span>
<span class="go">23</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">decmask</span>   <span class="c1"># decimal mask</span>
<span class="go">23</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">binmask</span>   <span class="c1"># binary mask</span>
<span class="go">&#39;255.255.254.0&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">invmask</span>   <span class="c1"># inverse mask</span>
<span class="go">&#39;0.0.1.255&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>           <span class="c1"># provided ip/mask string format</span>
<span class="go">10.10.10.10/23</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="get-an-ip">
<h2><span class="section-number">3.5.4. </span>Get an IP:<a class="headerlink" href="#get-an-ip" title="Permalink to this headline"></a></h2>
<p>Available methods:</p>
<blockquote>
<div><ul class="simple">
<li><p>NetworkIP() or subnet_zero()</p></li>
<li><p>BroadcastIP() or broadcast_address()</p></li>
<li><p>n_thIP()</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">subnet_zero</span><span class="p">()</span>                     <span class="c1"># network ip, with default=with mask</span>
<span class="go">&#39;10.10.10.0/23&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">subnet_zero</span><span class="p">(</span><span class="n">withMask</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>       <span class="c1"># network ip, without mask</span>
<span class="go">&#39;10.10.10.0&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">broadcast_address</span><span class="p">()</span>               <span class="c1"># broadcast ip, with default=without mask</span>
<span class="go">&#39;10.10.11.255&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">broadcast_address</span><span class="p">(</span><span class="n">withMask</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># broadcast ip, with mask</span>
<span class="go">&#39;10.10.11.255/23&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">n_thIP</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>                         <span class="c1"># 5th ip of subnet, with default=without mask</span>
<span class="go">&#39;10.10.10.5&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">n_thIP</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">withMask</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>          <span class="c1"># 5th ip of subnet, with mask</span>
<span class="go">&#39;10.10.10.5/23&#39;</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="get-ip-with-mask-in-various-formats">
<h2><span class="section-number">3.5.5. </span>Get ip with mask in various formats:<a class="headerlink" href="#get-ip-with-mask-in-various-formats" title="Permalink to this headline"></a></h2>
<p>Available methods:</p>
<blockquote>
<div><ul class="simple">
<li><p>ipbinmask()</p></li>
<li><p>ipdecmask()</p></li>
<li><p>ipinvmask()</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">ipbinmask</span><span class="p">()</span>                       <span class="c1"># subnet with binary mask</span>
<span class="go">&#39;10.10.10.0 255.255.254.0&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">ipbinmask</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>            <span class="c1"># an ip with binary mask</span>
<span class="go">&#39;10.10.10.4 255.255.254.0&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">ipdecmask</span><span class="p">()</span>                       <span class="c1"># subnet with decimal mask</span>
<span class="go">&#39;10.10.10.0/23&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">ipdecmask</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>            <span class="c1"># an ip with decimal mask</span>
<span class="go">&#39;10.10.10.4/23&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">ipinvmask</span><span class="p">()</span>                       <span class="c1"># subnet with inverse mask</span>
<span class="go">&#39;10.10.10.0 0.0.1.255&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">ipinvmask</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>            <span class="c1"># an ip with inverse mask</span>
<span class="go">&#39;10.10.10.4 0.0.1.255&#39;</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="get-ipv4-object-slices">
<h2><span class="section-number">3.5.6. </span>Get IPv4 Object slices:<a class="headerlink" href="#get-ipv4-object-slices" title="Permalink to this headline"></a></h2>
<p>Given IPv4 subnet object can be sliced and portion can be extracted out of it.
see below for example.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>                <span class="c1"># 5th  ip of subnet</span>
<span class="go">&#39;10.10.10.5&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">+</span><span class="mi">5</span>                 <span class="c1"># ++5th ip from provided ip</span>
<span class="go">&#39;10.10.10.15&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">-</span><span class="mi">3</span>                 <span class="c1"># --3rd ip from provided ip</span>
<span class="go">&#39;10.10.10.7&#39;</span>

<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>              <span class="c1"># range of ip addresses from subnet</span>
</span><span class="go">(&#39;10.10.10.0&#39;, &#39;10.10.10.1&#39;, &#39;10.10.10.2&#39;, &#39;10.10.10.3&#39;, &#39;10.10.10.4&#39;)</span>
<span class="hll">
</span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">/</span><span class="mi">4</span>                 <span class="c1"># break the subnet to 4 equal subnets</span>
<span class="hll"><span class="go">(&#39;10.10.10.0/25&#39;, &#39;10.10.10.128/25&#39;, &#39;10.10.11.0/25&#39;, &#39;10.10.11.128/25&#39;)</span>
</span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">/</span><span class="mi">3</span>                 <span class="c1"># breaks to nearest possible maximum prefix size.</span>
<span class="go">(&#39;10.10.10.0/25&#39;, &#39;10.10.10.128/25&#39;, &#39;10.10.11.0/25&#39;, &#39;10.10.11.128/25&#39;)</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="ipv4-object-addition">
<h2><span class="section-number">3.5.7. </span>IPv4 Object addition:<a class="headerlink" href="#ipv4-object-addition" title="Permalink to this headline"></a></h2>
<p>Add the two IPv4 Objects to get the summary out of it (if summarizable)
see below for example.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># provided two subnet and created object of it.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">subnet1</span> <span class="o">=</span> <span class="s2">&quot;10.10.10.0/23&quot;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">subnet2</span> <span class="o">=</span> <span class="s2">&quot;10.10.8.0/23&quot;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">IPv4</span><span class="p">(</span><span class="n">subnet1</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">s2</span> <span class="o">=</span> <span class="n">IPv4</span><span class="p">(</span><span class="n">subnet2</span><span class="p">)</span>

<span class="c1"># get summary of two subnets</span>
<span class="hll"><span class="o">&gt;&gt;&gt;</span> <span class="n">s1</span> <span class="o">+</span> <span class="n">s2</span>
</span><span class="mf">10.10</span><span class="o">.</span><span class="mf">8.0</span><span class="o">/</span><span class="mi">22</span>

<span class="c1"># notice, return type is IPv4 not a string</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">type</span><span class="p">(</span><span class="n">s1</span> <span class="o">+</span> <span class="n">s2</span><span class="p">)</span>
<span class="s1">&#39;nettoolkit.addressing.IPv4&#39;</span>
</pre></div>
</div>
</div></blockquote>
<p>Beware: Non-contiguous or unsummarizable subnets cannot be clubbed this way.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">subnet1</span> <span class="o">=</span> <span class="s2">&quot;10.10.10.0/23&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subnet2</span> <span class="o">=</span> <span class="s2">&quot;10.10.12.0/23&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">IPv4</span><span class="p">(</span><span class="n">subnet1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">IPv4</span><span class="p">(</span><span class="n">subnet2</span><span class="p">)</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">+</span> <span class="n">s2</span>
</span><span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;pyshell#147&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
    <span class="n">s1</span> <span class="o">+</span> <span class="n">s2</span>
  File <span class="nb">&quot;C:\...\addressing.py&quot;</span>, line <span class="m">412</span>, in <span class="n">__add__</span>
    <span class="s2">&quot;Inconsistant subnets cannot be added &quot;</span>
<span class="gr">Exception</span>: <span class="n">Inconsistant subnets cannot be added and &gt;2 instances of IPv4/IPv6 Object add not allowed. please check inputs or Use &#39;get_summaries&#39; function instead</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="juniper_remove_remarks.html" class="btn btn-neutral float-left" title="3.4. Juniper Configuration - 3" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="v6_addressing.html" class="btn btn-neutral float-right" title="3.6. IPv6 addressing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, ALIASGAR [ALI].</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>